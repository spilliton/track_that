/*!
 * track_that javascript library
 *
 * Date: Sept 8, 2012
 * Requires: jQuery v1.3+
 *
 * Copyright 2012, Zachary Kloepping
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * More info at https://github.com/spilliton/track_that
*/
(function($){$.isBlank=function(obj){return(!obj||$.trim(obj)==="");};})(jQuery);var TrackThat={devmode:false,category:function(category,events){if(TrackThat.enabled){$.each(events,function(index,arr){opts={category:category,action:arr[0],label:arr[1],element:arr[2]};if(arr.length>3){opts.scope=arr[3];if(arr.length>4){opts.event_type=arr[4];}}
TrackThat.attachEvent(opts);});}},pushEvent:function(elem,opts){if(TrackThat.enabled()){if(!(elem instanceof jQuery)){console.log('TrackThat.pushEvent requires a jQuery element as first param!');return;}
if($.isBlank(opts.category)){console.log('TrackThat.pushEvent requires a non blank category to be passed in opts!');return;}
if($.isBlank(opts.action)){console.log('TrackThat.pushEvent requires a non blank action to be passed in opts!');return;}
var action=TrackThat.valueFromOption(elem,opts.action);var label='';if(opts.label!=null){label=TrackThat.valueFromOption(elem,opts.label);}
if(TrackThat.devmode){alert(opts.category+' | '+action+' | '+label);}
else{_gaq.push(['_trackEvent',opts.category,action,label]);}}},enabled:function(){if(typeof _gaq!='undefined'||TrackThat.devmode)
return true;else
return false;},attachEvent:function(opts){if(opts.element!=null&&opts.element.length>0){var event_type="click";if(opts.event_type!=null){event_type=opts.event_type;}
opts.element.on(event_type,opts.scope,function(e){TrackThat.pushEvent($(this),opts);});}},valueFromOption:function(elem,option){if(option=='val()'){return elem.val();}
if(option=='text()'){return elem.text();}
if(option.indexOf('attr:')==0){attr_name=option.split(':')[1];return elem.attr(attr_name);}
return option;}};